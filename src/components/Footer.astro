---
const year = new Date().getFullYear();
---

<svg
	xmlns='http://www.w3.org/2000/svg'
	preserveAspectRatio='xMidYMin slice'
	viewBox='0 0 1440 320'
	width='1440'
	height='242'
	class='footer-wave'
>
	<path
		fill='var(--accent-bg)'
		stroke='var(--border)'
		stroke-width='2'
		d='M0,192L80,176C160,160,320,128,480,133.3C640,139,800,181,960,181.3C1120,181,1280,139,1360,117.3L1440,96L1440,320L1360,320C1280,320,1120,320,960,320C800,320,640,320,480,320C320,320,160,320,80,320L0,320Z'
	>
	</path>
</svg>
<footer class='footer'>
	<ul class='footer-social'>
		<li>
			<a href='https://www.linkedin.com/in/stefenphelps/' rel='me'>
				<svg
					viewBox='0 0 16 16'
					width='16'
					height='16'
					xmlns='http://www.w3.org/2000/svg'
					fill-rule='evenodd'
					clip-rule='evenodd'
					stroke-linejoin='round'
					stroke-miterlimit='1.414'
				>
					<title>LinkedIn</title>
					<path
						fill='currentColor'
						d='M13.632 13.635h-2.37V9.922c0-.886-.018-2.025-1.234-2.025-1.235 0-1.424.964-1.424 1.96v3.778h-2.37V6H8.51v1.04h.03c.318-.6 1.092-1.233 2.247-1.233 2.4 0 2.845 1.58 2.845 3.637v4.188zM3.558 4.955c-.762 0-1.376-.617-1.376-1.377 0-.758.614-1.375 1.376-1.375.76 0 1.376.617 1.376 1.375 0 .76-.617 1.377-1.376 1.377zm1.188 8.68H2.37V6h2.376v7.635zM14.816 0H1.18C.528 0 0 .516 0 1.153v13.694C0 15.484.528 16 1.18 16h13.635c.652 0 1.185-.516 1.185-1.153V1.153C16 .516 15.467 0 14.815 0z'
						fill-rule='nonzero'></path>
				</svg>
			</a>
		</li>
		<li>
			<a href='https://twitter.com/stefen' rel='me'>
				<svg
					viewBox='0 0 16 16'
					width='16'
					height='16'
					xmlns='http://www.w3.org/2000/svg'
					fill-rule='evenodd'
					clip-rule='evenodd'
					stroke-linejoin='round'
					stroke-miterlimit='1.414'
				>
					<title>Twitter</title>
					<path
						fill='currentColor'
						d='M16 3.038c-.59.26-1.22.437-1.885.517.677-.407 1.198-1.05 1.443-1.816-.634.37-1.337.64-2.085.79-.598-.64-1.45-1.04-2.396-1.04-1.812 0-3.282 1.47-3.282 3.28 0 .26.03.51.085.75-2.728-.13-5.147-1.44-6.766-3.42C.83 2.58.67 3.14.67 3.75c0 1.14.58 2.143 1.46 2.732-.538-.017-1.045-.165-1.487-.41v.04c0 1.59 1.13 2.918 2.633 3.22-.276.074-.566.114-.865.114-.21 0-.41-.02-.61-.058.42 1.304 1.63 2.253 3.07 2.28-1.12.88-2.54 1.404-4.07 1.404-.26 0-.52-.015-.78-.045 1.46.93 3.18 1.474 5.04 1.474 6.04 0 9.34-5 9.34-9.33 0-.14 0-.28-.01-.42.64-.46 1.2-1.04 1.64-1.7z'
						fill-rule='nonzero'></path>
				</svg>
			</a>
		</li>
		<li>
			<a href='https://codepen.io/stefen/' rel='me'>
				<svg
					viewBox='0 0 16 16'
					width='16'
					height='16'
					xmlns='http://www.w3.org/2000/svg'
					fill-rule='evenodd'
					clip-rule='evenodd'
					stroke-linejoin='round'
					stroke-miterlimit='1.414'
				>
					<title>CodePen</title>
					<path
						fill='currentColor'
						d='M15.988 5.443c-.004-.02-.007-.04-.012-.058l-.01-.033c-.006-.017-.012-.034-.02-.05-.003-.012-.01-.023-.014-.034l-.023-.045-.02-.032-.03-.04-.03-.03-.04-.03-.03-.02-.04-.03-.03-.02-.01-.01L8.38.12c-.23-.154-.53-.154-.76 0L.302 4.99.292 5l-.03.023-.04.032-.025.027-.034.037-.024.03-.03.04c-.01.01-.02.02-.02.03l-.03.04-.01.04c-.01.01-.01.03-.02.05l-.01.03c-.01.02-.01.04-.01.06v.03C0 5.5 0 5.53 0 5.56v4.875c0 .03.002.06.006.09l.007.03c.003.02.006.04.013.058l.01.033c.006.018.01.035.018.05l.015.033c0 .01.01.03.02.04l.02.03c.01.01.02.03.03.04l.02.03.03.03c.01.01.01.02.02.02l.04.03.03.02.01.01 7.31 4.88c.11.08.25.11.38.11s.26-.04.38-.12L15.68 11l.01-.01.03-.022.04-.03.03-.026.035-.037.024-.03.03-.04.02-.032.02-.046.01-.036.02-.05.01-.03.02-.05v-5c0-.03 0-.06-.01-.09l-.01-.03zM8 9.626L5.568 8 8 6.374 10.432 8 8 9.626zM7.312 5.18l-2.98 1.993-2.406-1.61 5.386-3.59V5.18zM3.095 8l-1.72 1.15v-2.3L3.095 8zm1.237.828l2.98 1.993v3.21l-5.386-3.59 2.406-1.61zm4.355 1.993l2.98-1.99 2.407 1.61-5.387 3.59v-3.2zM12.905 8l1.72-1.15v2.3L12.905 8zm-1.237-.827L8.688 5.18V1.97l5.386 3.59-2.406 1.61z'
						fill-rule='nonzero'></path>
				</svg>
			</a>
		</li>
		<li>
			<a href='https://github.com/stefenphelps' rel='me'>
				<svg
					viewBox='0 0 16 16'
					width='16'
					height='16'
					xmlns='http://www.w3.org/2000/svg'
					fill-rule='evenodd'
					clip-rule='evenodd'
					stroke-linejoin='round'
					stroke-miterlimit='1.414'
				>
					<title>GitHub</title>
					<path
						fill='currentColor'
						d='M8 0C3.58 0 0 3.582 0 8c0 3.535 2.292 6.533 5.47 7.59.4.075.547-.172.547-.385 0-.19-.007-.693-.01-1.36-2.226.483-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.725-.496.056-.486.056-.486.803.056 1.225.824 1.225.824.714 1.223 1.873.87 2.33.665.072-.517.278-.87.507-1.07-1.777-.2-3.644-.888-3.644-3.953 0-.873.31-1.587.823-2.147-.09-.202-.36-1.015.07-2.117 0 0 .67-.215 2.2.82.64-.178 1.32-.266 2-.27.68.004 1.36.092 2 .27 1.52-1.035 2.19-.82 2.19-.82.43 1.102.16 1.915.08 2.117.51.56.82 1.274.82 2.147 0 3.073-1.87 3.75-3.65 3.947.28.24.54.73.54 1.48 0 1.07-.01 1.93-.01 2.19 0 .21.14.46.55.38C13.71 14.53 16 11.53 16 8c0-4.418-3.582-8-8-8'
					></path>
				</svg>
			</a>
		</li>
	</ul>
	<p class='footer-copyright'>
		<small>© {year} Stefen Phelps — <a href='/rss.xml'>RSS feed</a></small>
	</p>
	<button class='footer-toggle'>
		<svg
			xmlns='http://www.w3.org/2000/svg'
			viewBox='0 0 512 512'
			class='footer-toggle-moon'
			width='20'
			height='20'
		>
			<title>Toggle Light Mode</title>
			<path
				class='fa-primary'
				d='M332.3 426.4c-93.13 17.75-178.5-53.63-178.5-147.6c0-54.25 29-104 76-130.9c7.375-4.125 5.45-15.12-2.8-16.62C108.7 109.4 0 200 0 320c0 106 85.76 192 191.8 192c59.25 0 113.2-26.79 148.9-71.04C346.1 434.5 340.3 424.8 332.3 426.4z'
			></path><path
				class='fa-secondary'
				d='M288 63.1l12.42 29.78c.6094 1.225 2.211 2.219 3.578 2.219s2.967-.9941 3.576-2.219l12.42-29.78l29.79-12.42C351 50.97 352 49.36 352 47.1c0-1.365-.9922-2.967-2.211-3.576l-29.79-12.42l-12.42-29.79c-.6094-1.227-2.209-2.217-3.576-2.217s-2.969 .9902-3.578 2.217l-12.42 29.79L258.2 44.42c-1.217 .6094-2.209 2.211-2.209 3.576c0 1.359 .9922 2.971 2.209 3.58L288 63.1zM507.6 216.9L448 192l-24.88-59.63C421.8 129.8 419 127.1 416 127.1s-5.75 1.75-7.125 4.375L384 192l-59.63 24.88C321.8 218.3 320 221 320 224s1.75 5.75 4.375 7.125L384 256l24.88 59.63C410.3 318.3 413 320 416 320s5.75-1.75 7.125-4.375L448 256l59.63-24.88C510.3 229.8 512 227 512 224S510.3 218.3 507.6 216.9z'
			></path>
		</svg>
		<svg
			xmlns='http://www.w3.org/2000/svg'
			viewBox='0 0 512 512'
			class='footer-toggle-sun'
			width='20'
			height='20'
		>
			<title>Toggle Dark Mode</title>
			<path
				class='fa-primary'
				d='M256 144C194.1 144 144 194.1 144 256c0 61.86 50.14 112 112 112s112-50.14 112-112C368 194.1 317.9 144 256 144z'
			></path><path
				class='fa-secondary'
				d='M108.9 74.97c-9.344-9.375-24.56-9.375-33.94 0s-9.375 24.56 0 33.94l45.25 45.28c4.672 4.688 10.83 7.031 16.97 7.031S149.5 158.9 154.2 154.2c9.375-9.375 9.375-24.56 0-33.93L108.9 74.97zM256 0C242.8 0 232 10.75 232 24v64C232 101.3 242.8 112 256 112s24-10.75 24-24v-64C280 10.75 269.3 0 256 0zM112 256c0-13.25-10.75-24-24-24h-64C10.75 232 0 242.8 0 256s10.75 24 24 24h64C101.3 280 112 269.3 112 256zM374.8 161.2c6.141 0 12.3-2.344 16.97-7.031l45.25-45.28c9.375-9.375 9.375-24.56 0-33.94s-24.59-9.375-33.94 0l-45.25 45.28c-9.375 9.375-9.375 24.56 0 33.93C362.5 158.9 368.7 161.2 374.8 161.2zM256 400c-13.25 0-24 10.75-24 24v64C232 501.3 242.8 512 256 512s24-10.75 24-24v-64C280 410.8 269.3 400 256 400zM120.2 357.8l-45.25 45.28c-9.375 9.375-9.375 24.56 0 33.94c4.688 4.688 10.83 7.031 16.97 7.031s12.3-2.344 16.97-7.031l45.25-45.28c9.375-9.375 9.375-24.56 0-33.93S129.6 348.4 120.2 357.8zM488 232h-64c-13.25 0-24 10.75-24 24s10.75 24 24 24h64C501.3 280 512 269.3 512 256S501.3 232 488 232zM391.8 357.8c-9.344-9.375-24.56-9.372-33.94 .0031s-9.375 24.56 0 33.93l45.25 45.28c4.672 4.688 10.83 7.031 16.97 7.031s12.28-2.344 16.97-7.031c9.375-9.375 9.375-24.56 0-33.94L391.8 357.8z'
			></path>
		</svg>
	</button>
</footer>
<script>
	const setColorScheme = (value) => {
		document.documentElement.dataset.colorScheme = value;
		localStorage.setItem('color-scheme', value);
	};
	document.addEventListener('astro:load', () => {
		const html = document.documentElement;
		const toggleButton = document.querySelector('.footer-toggle');
		const prefersDark = window.matchMedia('(prefers-color-scheme: dark)');

		toggleButton.addEventListener('click', () => {
			if (!html.dataset.colorScheme && prefersDark.matches) {
				setColorScheme('light');
				return;
			}
			const scheme = html.dataset.colorScheme === 'dark' ? 'light' : 'dark';
			setColorScheme(scheme);
		});
	});
	if (localStorage.getItem('color-scheme')) {
		setColorScheme(localStorage.getItem('color-scheme'));
	}
	// Runs on view transitions navigation
	document.addEventListener('astro:beforeload', function() {
		if (localStorage.getItem('color-scheme')) {
			setColorScheme(localStorage.getItem('color-scheme'));
		}
	});
</script>