---
import Layout from '../Base.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

const title = "Hi there, I'm Stefen üòÉ";
const description = 'Hey there! Thanks for stopping by, how can I help ya today?';
const permalink = 'https://stefenphelps.com/';
---

<Layout title={title} description={description} permalink={permalink}>
	<Header activeNav='home' />
	<main>
		<article class='wrapper wrapper--wide'>
			<section class='home'>
				<div class='home-text'>
					<h1 class='h2'>
						I'm Stefen, co-founder&ThinSpace;/&ThinSpace;lead engineer at
						<a href='https://www.kelp.agency'>Kelp</a>, Florida man, and ‚òïÔ∏è snob.
					</h1>
					<p>
						I had a majestic mustache for a hot minute... but had to shave it off for the sake of my marriage.
						Now, I enjoy having lots of different mustaches in the metaverse instead.
					</p>
				</div>
				<div class='home-image'>
					<img
						class='home-image-stache'
						src='/images/mustaches/1.svg'
						alt='Generated mustache'
						width='700'
						height='700'
					/>
					<picture class='home-image-picture'>
						<source type='image/svg+xml' srcset='/images/mustache-face.svg' width='700' height='700' />
						<source type='image/webp' srcset='/images/mustache-face.webp' width='700' height='700' />
						<img width='700' height='700' src='/images/mustache-face.png' alt="Stefen's Mustache Face" />
					</picture>
					<button class='button mustache-button'>Generate Mustache</button>
				</div>
			</section>
			<section class='recent-posts'>
				<h2 class='h3'>My articles from around the web:</h2>
				<hr />
				<ul class='recent-posts-grid'>
					<li class='recent-posts-grid-item'>
						<span>Kelp:</span>
						<a href='https://www.kelp.agency/blog/why-use-the-hubspot-cli/'> Why Use The HubSpot CLI?</a>
					</li>
					<li class='recent-posts-grid-item'>
						<span>HubSpot:</span>
						<a href='https://designers.hubspot.com/blog/reduce-client-revisions'>
							How to Reduce Client's Design Revisions
						</a>
					</li>
					<li class='recent-posts-grid-item'>
						<span>Bluleadz:</span>
						<a
							href='https://www.bluleadz.com/blog/how-to-increase-your-pagespeed-insights-score-on-your-hubspot-website'
						>
							How to Increase Your PageSpeed Insights on HubSpot CMS
						</a>
					</li>
					<li class='recent-posts-grid-item'>
						<span>Bluleadz:</span>
						<a href='https://www.bluleadz.com/blog/how-to-add-estimated-read-time-to-a-hubspot-blog'>
							How to Add Estimated Read Time to a HubSpot Blog
						</a>
					</li>
				</ul>
			</section>
		</article>
	</main>
	<Footer />
</Layout>

<script>
	document.addEventListener('astro:load', () => {
		const button = document.querySelector('.mustache-button');
		const mustacheImg = document.querySelector('.home-image-stache');
		button.addEventListener('click', function () {
			const randomStache = Math.floor(Math.random() * 60 + 1).toString();
			mustacheImg.src = '/images/mustaches/' + randomStache + '.svg';
			mustacheImg.style.display = 'block';
		});
	});
</script>

<style lang='scss'>
	body {
		grid-template-columns: 1fr min(70rem, 90%) 1fr;
	}
	.home {
		display: flex;
		flex-wrap: wrap;
		gap: 2rem;
		align-items: center;
		@media (min-width: 960px) {
			margin-top: 4rem;
		}
		&-image {
			flex: 1 1 230px;
			position: relative;
			text-align: center;
			aspect-ratio: 1 / 1;
			&-picture {
				opacity: 0.7;
				aspect-ratio: 1 / 1;
				img {
					aspect-ratio: 1 / 1;
				}
			}
			&-stache {
				position: absolute;
				top: 52%;
				left: 48%;
				transform: translate(-50%, 0);
				width: 50%;
				display: none;
				pointer-events: none;
			}
		}
		&-text {
			flex: 1 1 400px;
			@media (max-width: 767px) {
				h1 {
					margin-top: 0;
				}
			}
		}
	}
	.recent-posts {
		margin: auto;
		h2 {
			margin: 5rem 0 0rem;
			flex: 1 1 100%;
		}
		&-grid {
			margin: 2rem 0 0 0;
			padding: 0;
			list-style: none;
			@media (min-width: 900px) {
				column-count: 2;
				column-gap: 3rem;
			}
			&-item {
				break-inside: avoid;
				display: flex;
				gap: 1rem;
				line-height: 1.2;
				margin-bottom: 1rem;
				@media (max-width: 700px) {
					display: block;
					a {
						display: block;
					}
				}
				span {
					flex: 0 1 6rem;
				}
				a {
					flex: 1 1 auto;
				}
			}
		}
	}
</style>
